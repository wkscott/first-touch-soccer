{"ast":null,"code":"import * as React from 'react';\nimport * as ReactDom from 'react-dom';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\nvar css_248z = \"/*\\n  code is extracted from Calendly's embed stylesheet: https://assets.calendly.com/assets/external/widget.css\\n*/\\n\\n.calendly-inline-widget,\\n.calendly-inline-widget *,\\n.calendly-badge-widget,\\n.calendly-badge-widget *,\\n.calendly-overlay,\\n.calendly-overlay * {\\n    font-size:16px;\\n    line-height:1.2em\\n}\\n\\n.calendly-inline-widget iframe,\\n.calendly-badge-widget iframe,\\n.calendly-overlay iframe {\\n    display:inline;\\n    width:100%;\\n    height:100%\\n}\\n\\n.calendly-popup-content {\\n    position:relative\\n}\\n\\n.calendly-popup-content.calendly-mobile {\\n    -webkit-overflow-scrolling:touch;\\n    overflow-y:auto\\n}\\n\\n.calendly-overlay {\\n    position:fixed;\\n    top:0;\\n    left:0;\\n    right:0;\\n    bottom:0;\\n    overflow:hidden;\\n    z-index:9999;\\n    background-color:#a5a5a5;\\n    background-color:rgba(31,31,31,0.4)\\n}\\n\\n.calendly-overlay .calendly-close-overlay {\\n    position:absolute;\\n    top:0;\\n    left:0;\\n    right:0;\\n    bottom:0\\n}\\n\\n.calendly-overlay .calendly-popup {\\n    box-sizing:border-box;\\n    position:absolute;\\n    top:50%;\\n    left:50%;\\n    -webkit-transform:translateY(-50%) translateX(-50%);\\n    transform:translateY(-50%) translateX(-50%);\\n    width:80%;\\n    min-width:900px;\\n    max-width:1000px;\\n    height:90%;\\n    max-height:680px\\n}\\n\\n@media (max-width: 975px) {\\n    .calendly-overlay .calendly-popup {\\n        position:fixed;\\n        top:50px;\\n        left:0;\\n        right:0;\\n        bottom:0;\\n        -webkit-transform:none;\\n        transform:none;\\n        width:100%;\\n        height:auto;\\n        min-width:0;\\n        max-height:none\\n    }\\n}\\n\\n.calendly-overlay .calendly-popup .calendly-popup-content {\\n    height:100%;\\n}\\n\\n.calendly-overlay .calendly-popup-close {\\n    position:absolute;\\n    top:25px;\\n    right:25px;\\n    color:#fff;\\n    width:19px;\\n    height:19px;\\n    cursor:pointer;\\n    background:url(https://assets.calendly.com/assets/external/close-icon.svg) no-repeat;\\n    background-size:contain\\n}\\n\\n@media (max-width: 975px) {\\n    .calendly-overlay .calendly-popup-close {\\n        top:15px;\\n        right:15px\\n    }\\n}\\n\\n.calendly-badge-widget {\\n    position:fixed;\\n    right:20px;\\n    bottom:15px;\\n    z-index:9998\\n}\\n\\n.calendly-badge-widget .calendly-badge-content {\\n    display:table-cell;\\n    width:auto;\\n    height:45px;\\n    padding:0 30px;\\n    border-radius:25px;\\n    box-shadow:rgba(0,0,0,0.25) 0 2px 5px;\\n    font-family:sans-serif;\\n    text-align:center;\\n    vertical-align:middle;\\n    font-weight:bold;\\n    font-size:14px;\\n    color:#fff;\\n    cursor:pointer\\n}\\n\\n.calendly-badge-widget .calendly-badge-content.calendly-white {\\n    color:#666a73\\n}\\n\\n.calendly-badge-widget .calendly-badge-content span {\\n    display:block;\\n    font-size:12px\\n}\\n\\n.calendly-spinner {\\n    position:absolute;\\n    top:50%;\\n    left:0;\\n    right:0;\\n    -webkit-transform:translateY(-50%);\\n    transform:translateY(-50%);\\n    text-align:center;\\n    z-index:-1\\n}\\n\\n.calendly-spinner>div {\\n    display:inline-block;\\n    width:18px;\\n    height:18px;\\n    background-color:#e1e1e1;\\n    border-radius:50%;\\n    vertical-align:middle;\\n    -webkit-animation:calendly-bouncedelay 1.4s infinite ease-in-out;\\n    animation:calendly-bouncedelay 1.4s infinite ease-in-out;\\n    -webkit-animation-fill-mode:both;\\n    animation-fill-mode:both\\n}\\n\\n.calendly-spinner .calendly-bounce1 {\\n    -webkit-animation-delay:-0.32s;\\n    animation-delay:-0.32s\\n}\\n\\n.calendly-spinner .calendly-bounce2 {\\n    -webkit-animation-delay:-0.16s;\\n    animation-delay:-0.16s\\n}\\n\\n@-webkit-keyframes calendly-bouncedelay {\\n    0%,80%,100% {\\n        -webkit-transform:scale(0);\\n        transform:scale(0)\\n    } \\n    \\n    40%{\\n        -webkit-transform:scale(1);\\n        transform:scale(1)\\n    }\\n}\\n\\n@keyframes calendly-bouncedelay{ \\n    0%,80%,100% {\\n        -webkit-transform:scale(0);\\n        transform:scale(0)\\n    }\\n    \\n    40% {\\n        -webkit-transform:scale(1);\\n        transform:scale(1)\\n    }\\n}\";\nstyleInject(css_248z);\nfunction sanitizeColorString(str) {\n  if (str.charAt(0) === \"#\") {\n    return str.slice(1);\n  }\n  return str;\n}\nfunction sanitizePageSettingsProps(props) {\n  if (props === null || props === void 0 ? void 0 : props.primaryColor) {\n    props.primaryColor = sanitizeColorString(props.primaryColor);\n  }\n  if (props === null || props === void 0 ? void 0 : props.textColor) {\n    props.textColor = sanitizeColorString(props.textColor);\n  }\n  if (props === null || props === void 0 ? void 0 : props.backgroundColor) {\n    props.backgroundColor = sanitizeColorString(props.backgroundColor);\n  }\n  return props;\n}\nvar CalendlyEvent;\n(function (CalendlyEvent) {\n  CalendlyEvent[\"PROFILE_PAGE_VIEWED\"] = \"calendly.profile_page_viewed\";\n  CalendlyEvent[\"EVENT_TYPE_VIEWED\"] = \"calendly.event_type_viewed\";\n  CalendlyEvent[\"DATE_AND_TIME_SELECTED\"] = \"calendly.date_and_time_selected\";\n  CalendlyEvent[\"EVENT_SCHEDULED\"] = \"calendly.event_scheduled\";\n  CalendlyEvent[\"PAGE_HEIGHT\"] = \"calendly.page_height\";\n})(CalendlyEvent || (CalendlyEvent = {}));\nvar formatCalendlyUrl = function (_a) {\n  var url = _a.url,\n    _b = _a.prefill,\n    prefill = _b === void 0 ? {} : _b,\n    _c = _a.pageSettings,\n    pageSettings = _c === void 0 ? {} : _c,\n    _d = _a.utm,\n    utm = _d === void 0 ? {} : _d,\n    embedType = _a.embedType;\n  var sanitizedPageSettings = sanitizePageSettingsProps(pageSettings);\n  var backgroundColor = sanitizedPageSettings.backgroundColor,\n    hideEventTypeDetails = sanitizedPageSettings.hideEventTypeDetails,\n    hideLandingPageDetails = sanitizedPageSettings.hideLandingPageDetails,\n    primaryColor = sanitizedPageSettings.primaryColor,\n    textColor = sanitizedPageSettings.textColor,\n    hideGdprBanner = sanitizedPageSettings.hideGdprBanner;\n  var customAnswers = prefill.customAnswers,\n    date = prefill.date,\n    email = prefill.email,\n    firstName = prefill.firstName,\n    guests = prefill.guests,\n    lastName = prefill.lastName,\n    location = prefill.location,\n    smsReminderNumber = prefill.smsReminderNumber,\n    name = prefill.name;\n  var utmCampaign = utm.utmCampaign,\n    utmContent = utm.utmContent,\n    utmMedium = utm.utmMedium,\n    utmSource = utm.utmSource,\n    utmTerm = utm.utmTerm,\n    salesforce_uuid = utm.salesforce_uuid;\n  var queryStringIndex = url.indexOf(\"?\");\n  var hasQueryString = queryStringIndex > -1;\n  var queryString = url.slice(queryStringIndex + 1);\n  var baseUrl = hasQueryString ? url.slice(0, queryStringIndex) : url;\n  var updatedQueryString = [hasQueryString ? queryString : null, backgroundColor ? \"background_color=\".concat(backgroundColor) : null, hideEventTypeDetails ? \"hide_event_type_details=1\" : null, hideLandingPageDetails ? \"hide_landing_page_details=1\" : null, primaryColor ? \"primary_color=\".concat(primaryColor) : null, textColor ? \"text_color=\".concat(textColor) : null, hideGdprBanner ? \"hide_gdpr_banner=1\" : null, name ? \"name=\".concat(encodeURIComponent(name)) : null, smsReminderNumber ? \"phone_number=\".concat(encodeURIComponent(smsReminderNumber)) : null, location ? \"location=\".concat(encodeURIComponent(location)) : null, firstName ? \"first_name=\".concat(encodeURIComponent(firstName)) : null, lastName ? \"last_name=\".concat(encodeURIComponent(lastName)) : null, guests ? \"guests=\".concat(guests.map(encodeURIComponent).join(\",\")) : null, email ? \"email=\".concat(encodeURIComponent(email)) : null, date && date instanceof Date ? \"date=\".concat(formatDate(date)) : null, utmCampaign ? \"utm_campaign=\".concat(encodeURIComponent(utmCampaign)) : null, utmContent ? \"utm_content=\".concat(encodeURIComponent(utmContent)) : null, utmMedium ? \"utm_medium=\".concat(encodeURIComponent(utmMedium)) : null, utmSource ? \"utm_source=\".concat(encodeURIComponent(utmSource)) : null, utmTerm ? \"utm_term=\".concat(encodeURIComponent(utmTerm)) : null, salesforce_uuid ? \"salesforce_uuid=\".concat(encodeURIComponent(salesforce_uuid)) : null, embedType ? \"embed_type=\".concat(embedType) : null,\n  /*\n   * https://github.com/tcampb/react-calendly/pull/31\n   * embed_domain must be defined to receive messages from the Calendly iframe.\n   */\n  \"embed_domain=1\"].concat(customAnswers ? formatCustomAnswers(customAnswers) : []).filter(function (item) {\n    return item !== null;\n  }).join(\"&\");\n  return \"\".concat(baseUrl, \"?\").concat(updatedQueryString);\n};\nvar formatDate = function (d) {\n  var month = d.getMonth() + 1;\n  var day = d.getDate();\n  var year = d.getFullYear();\n  return [year, month < 10 ? \"0\".concat(month) : month, day < 10 ? \"0\".concat(day) : day].join(\"-\");\n};\nvar CUSTOM_ANSWER_PATTERN = /^a\\d{1,2}$/;\nvar formatCustomAnswers = function (customAnswers) {\n  var customAnswersFiltered = Object.keys(customAnswers).filter(function (key) {\n    return key.match(CUSTOM_ANSWER_PATTERN);\n  });\n  if (!customAnswersFiltered.length) return [];\n  return customAnswersFiltered.map(function (key) {\n    return \"\".concat(key, \"=\").concat(encodeURIComponent(customAnswers[key]));\n  });\n};\nvar LoadingSpinner = /** @class */function (_super) {\n  __extends(LoadingSpinner, _super);\n  function LoadingSpinner() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  LoadingSpinner.prototype.render = function () {\n    return React.createElement(\"div\", {\n      className: \"calendly-spinner\"\n    }, React.createElement(\"div\", {\n      className: \"calendly-bounce1\"\n    }), React.createElement(\"div\", {\n      className: \"calendly-bounce2\"\n    }), React.createElement(\"div\", {\n      className: \"calendly-bounce3\"\n    }));\n  };\n  return LoadingSpinner;\n}(React.Component);\nvar defaultStyles = {\n  minWidth: \"320px\",\n  height: \"630px\"\n};\nvar InlineWidget = /** @class */function (_super) {\n  __extends(InlineWidget, _super);\n  function InlineWidget(props) {\n    var _this = _super.call(this, props) || this;\n    _this.state = {\n      isLoading: true\n    };\n    _this.onLoad = _this.onLoad.bind(_this);\n    return _this;\n  }\n  InlineWidget.prototype.onLoad = function () {\n    this.setState({\n      isLoading: false\n    });\n  };\n  InlineWidget.prototype.render = function () {\n    var src = formatCalendlyUrl({\n      url: this.props.url,\n      pageSettings: this.props.pageSettings,\n      prefill: this.props.prefill,\n      utm: this.props.utm,\n      embedType: \"Inline\"\n    });\n    var LoadingSpinner$1 = this.props.LoadingSpinner || LoadingSpinner;\n    return React.createElement(\"div\", {\n      className: \"calendly-inline-widget\",\n      style: this.props.styles || defaultStyles\n    }, this.state.isLoading && React.createElement(LoadingSpinner$1, null), React.createElement(\"iframe\", {\n      width: \"100%\",\n      height: \"100%\",\n      frameBorder: \"0\",\n      title: this.props.iframeTitle || \"Calendly Scheduling Page\",\n      onLoad: this.onLoad,\n      src: src\n    }));\n  };\n  return InlineWidget;\n}(React.Component);\nvar ModalContent = /** @class */function (_super) {\n  __extends(ModalContent, _super);\n  function ModalContent(props) {\n    var _this = _super.call(this, props) || this;\n    _this.state = {\n      isLoading: true\n    };\n    _this.onLoad = _this.onLoad.bind(_this);\n    return _this;\n  }\n  ModalContent.prototype.onLoad = function () {\n    this.setState({\n      isLoading: false\n    });\n  };\n  ModalContent.prototype.render = function () {\n    var src = formatCalendlyUrl({\n      url: this.props.url,\n      pageSettings: this.props.pageSettings,\n      prefill: this.props.prefill,\n      utm: this.props.utm,\n      embedType: \"Inline\"\n    });\n    var LoadingSpinner$1 = this.props.LoadingSpinner || LoadingSpinner;\n    return React.createElement(React.Fragment, null, this.state.isLoading && React.createElement(LoadingSpinner$1, null), React.createElement(\"iframe\", {\n      width: \"100%\",\n      height: \"100%\",\n      frameBorder: \"0\",\n      title: this.props.iframeTitle || \"Calendly Scheduling Page\",\n      onLoad: this.onLoad,\n      src: src\n    }));\n  };\n  return ModalContent;\n}(React.Component);\nvar Modal = function (props) {\n  if (!props.open) return null;\n  if (!props.rootElement) {\n    throw new Error('[react-calendly]: PopupModal rootElement property cannot be undefined');\n  }\n  return ReactDom.createPortal(React.createElement(\"div\", {\n    className: \"calendly-overlay\"\n  }, React.createElement(\"div\", {\n    onClick: props.onModalClose,\n    className: \"calendly-close-overlay\"\n  }), React.createElement(\"div\", {\n    className: \"calendly-popup\"\n  }, React.createElement(\"div\", {\n    className: \"calendly-popup-content\"\n  }, React.createElement(ModalContent, __assign({}, props)))), React.createElement(\"button\", {\n    className: \"calendly-popup-close\",\n    onClick: props.onModalClose,\n    \"aria-label\": \"Close modal\",\n    style: {\n      display: \"block\",\n      border: \"none\",\n      padding: 0\n    }\n  })), props.rootElement);\n};\nvar PopupButton = /** @class */function (_super) {\n  __extends(PopupButton, _super);\n  function PopupButton(props) {\n    var _this = _super.call(this, props) || this;\n    _this.state = {\n      isOpen: false\n    };\n    _this.onClick = _this.onClick.bind(_this);\n    _this.onClose = _this.onClose.bind(_this);\n    return _this;\n  }\n  PopupButton.prototype.onClick = function (e) {\n    e.preventDefault();\n    this.setState({\n      isOpen: true\n    });\n  };\n  PopupButton.prototype.onClose = function (e) {\n    e.stopPropagation();\n    this.setState({\n      isOpen: false\n    });\n  };\n  PopupButton.prototype.render = function () {\n    return React.createElement(React.Fragment, null, React.createElement(\"button\", {\n      onClick: this.onClick,\n      style: this.props.styles || {},\n      className: this.props.className || \"\"\n    }, this.props.text), React.createElement(Modal, __assign({}, this.props, {\n      open: this.state.isOpen,\n      onModalClose: this.onClose,\n      rootElement: this.props.rootElement\n    })));\n  };\n  return PopupButton;\n}(React.Component);\nvar PopupWidget = /** @class */function (_super) {\n  __extends(PopupWidget, _super);\n  function PopupWidget(props) {\n    var _this = _super.call(this, props) || this;\n    _this.state = {\n      isOpen: false\n    };\n    _this.onClick = _this.onClick.bind(_this);\n    _this.onClose = _this.onClose.bind(_this);\n    return _this;\n  }\n  PopupWidget.prototype.onClick = function () {\n    this.setState({\n      isOpen: true\n    });\n  };\n  PopupWidget.prototype.onClose = function (e) {\n    e.stopPropagation();\n    this.setState({\n      isOpen: false\n    });\n  };\n  PopupWidget.prototype.render = function () {\n    return React.createElement(\"div\", {\n      className: \"calendly-badge-widget\",\n      onClick: this.onClick\n    }, React.createElement(\"div\", {\n      className: \"calendly-badge-content\",\n      style: {\n        background: this.props.color || \"#00a2ff\",\n        color: this.props.textColor || \"#ffffff\"\n      }\n    }, this.props.text || \"Schedule time with me\", this.props.branding && React.createElement(\"span\", null, \"powered by Calendly\")), React.createElement(Modal, __assign({}, this.props, {\n      open: this.state.isOpen,\n      onModalClose: this.onClose,\n      rootElement: this.props.rootElement\n    })));\n  };\n  return PopupWidget;\n}(React.Component);\nvar EVENT_NAME = \"message\";\nfunction useCalendlyEventListener(eventHandlers) {\n  var _a = eventHandlers || {},\n    onDateAndTimeSelected = _a.onDateAndTimeSelected,\n    onEventScheduled = _a.onEventScheduled,\n    onEventTypeViewed = _a.onEventTypeViewed,\n    onProfilePageViewed = _a.onProfilePageViewed,\n    onPageHeightResize = _a.onPageHeightResize;\n  React.useEffect(function () {\n    var onMessage = function (e) {\n      var eventName = e.data.event;\n      if (eventName === CalendlyEvent.DATE_AND_TIME_SELECTED) {\n        onDateAndTimeSelected && onDateAndTimeSelected(e);\n      } else if (eventName === CalendlyEvent.EVENT_SCHEDULED) {\n        onEventScheduled && onEventScheduled(e);\n      } else if (eventName === CalendlyEvent.EVENT_TYPE_VIEWED) {\n        onEventTypeViewed && onEventTypeViewed(e);\n      } else if (eventName === CalendlyEvent.PROFILE_PAGE_VIEWED) {\n        onProfilePageViewed && onProfilePageViewed(e);\n      } else if (eventName === CalendlyEvent.PAGE_HEIGHT) {\n        onPageHeightResize && onPageHeightResize(e);\n      }\n    };\n    window.addEventListener(EVENT_NAME, onMessage);\n    return function cleanup() {\n      window.removeEventListener(EVENT_NAME, onMessage);\n    };\n  }, [eventHandlers]);\n}\nexport { InlineWidget, PopupButton, Modal as PopupModal, PopupWidget, useCalendlyEventListener };","map":{"version":3,"names":["React","ReactDom","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","SuppressedError","error","suppressed","message","e","Error","name","styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","css_248z","sanitizeColorString","str","charAt","slice","sanitizePageSettingsProps","props","primaryColor","textColor","backgroundColor","CalendlyEvent","formatCalendlyUrl","_a","url","_b","prefill","_c","pageSettings","_d","utm","embedType","sanitizedPageSettings","hideEventTypeDetails","hideLandingPageDetails","hideGdprBanner","customAnswers","date","email","firstName","guests","lastName","location","smsReminderNumber","utmCampaign","utmContent","utmMedium","utmSource","utmTerm","salesforce_uuid","queryStringIndex","indexOf","hasQueryString","queryString","baseUrl","updatedQueryString","concat","encodeURIComponent","map","join","Date","formatDate","formatCustomAnswers","filter","item","month","getMonth","day","getDate","year","getFullYear","CUSTOM_ANSWER_PATTERN","customAnswersFiltered","keys","key","match","LoadingSpinner","_super","render","className","Component","defaultStyles","minWidth","height","InlineWidget","_this","state","isLoading","onLoad","bind","setState","src","LoadingSpinner$1","styles","width","frameBorder","title","iframeTitle","ModalContent","Fragment","Modal","open","rootElement","createPortal","onClick","onModalClose","display","border","padding","PopupButton","isOpen","onClose","preventDefault","stopPropagation","text","PopupWidget","background","color","branding","EVENT_NAME","useCalendlyEventListener","eventHandlers","onDateAndTimeSelected","onEventScheduled","onEventTypeViewed","onProfilePageViewed","onPageHeightResize","useEffect","onMessage","eventName","data","event","DATE_AND_TIME_SELECTED","EVENT_SCHEDULED","EVENT_TYPE_VIEWED","PROFILE_PAGE_VIEWED","PAGE_HEIGHT","window","addEventListener","cleanup","removeEventListener","PopupModal"],"sources":["/Users/williamscott/.cursor-tutor/node_modules/react-calendly/dist/index.es.js"],"sourcesContent":["import * as React from 'react';\nimport * as ReactDom from 'react-dom';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \"/*\\n  code is extracted from Calendly's embed stylesheet: https://assets.calendly.com/assets/external/widget.css\\n*/\\n\\n.calendly-inline-widget,\\n.calendly-inline-widget *,\\n.calendly-badge-widget,\\n.calendly-badge-widget *,\\n.calendly-overlay,\\n.calendly-overlay * {\\n    font-size:16px;\\n    line-height:1.2em\\n}\\n\\n.calendly-inline-widget iframe,\\n.calendly-badge-widget iframe,\\n.calendly-overlay iframe {\\n    display:inline;\\n    width:100%;\\n    height:100%\\n}\\n\\n.calendly-popup-content {\\n    position:relative\\n}\\n\\n.calendly-popup-content.calendly-mobile {\\n    -webkit-overflow-scrolling:touch;\\n    overflow-y:auto\\n}\\n\\n.calendly-overlay {\\n    position:fixed;\\n    top:0;\\n    left:0;\\n    right:0;\\n    bottom:0;\\n    overflow:hidden;\\n    z-index:9999;\\n    background-color:#a5a5a5;\\n    background-color:rgba(31,31,31,0.4)\\n}\\n\\n.calendly-overlay .calendly-close-overlay {\\n    position:absolute;\\n    top:0;\\n    left:0;\\n    right:0;\\n    bottom:0\\n}\\n\\n.calendly-overlay .calendly-popup {\\n    box-sizing:border-box;\\n    position:absolute;\\n    top:50%;\\n    left:50%;\\n    -webkit-transform:translateY(-50%) translateX(-50%);\\n    transform:translateY(-50%) translateX(-50%);\\n    width:80%;\\n    min-width:900px;\\n    max-width:1000px;\\n    height:90%;\\n    max-height:680px\\n}\\n\\n@media (max-width: 975px) {\\n    .calendly-overlay .calendly-popup {\\n        position:fixed;\\n        top:50px;\\n        left:0;\\n        right:0;\\n        bottom:0;\\n        -webkit-transform:none;\\n        transform:none;\\n        width:100%;\\n        height:auto;\\n        min-width:0;\\n        max-height:none\\n    }\\n}\\n\\n.calendly-overlay .calendly-popup .calendly-popup-content {\\n    height:100%;\\n}\\n\\n.calendly-overlay .calendly-popup-close {\\n    position:absolute;\\n    top:25px;\\n    right:25px;\\n    color:#fff;\\n    width:19px;\\n    height:19px;\\n    cursor:pointer;\\n    background:url(https://assets.calendly.com/assets/external/close-icon.svg) no-repeat;\\n    background-size:contain\\n}\\n\\n@media (max-width: 975px) {\\n    .calendly-overlay .calendly-popup-close {\\n        top:15px;\\n        right:15px\\n    }\\n}\\n\\n.calendly-badge-widget {\\n    position:fixed;\\n    right:20px;\\n    bottom:15px;\\n    z-index:9998\\n}\\n\\n.calendly-badge-widget .calendly-badge-content {\\n    display:table-cell;\\n    width:auto;\\n    height:45px;\\n    padding:0 30px;\\n    border-radius:25px;\\n    box-shadow:rgba(0,0,0,0.25) 0 2px 5px;\\n    font-family:sans-serif;\\n    text-align:center;\\n    vertical-align:middle;\\n    font-weight:bold;\\n    font-size:14px;\\n    color:#fff;\\n    cursor:pointer\\n}\\n\\n.calendly-badge-widget .calendly-badge-content.calendly-white {\\n    color:#666a73\\n}\\n\\n.calendly-badge-widget .calendly-badge-content span {\\n    display:block;\\n    font-size:12px\\n}\\n\\n.calendly-spinner {\\n    position:absolute;\\n    top:50%;\\n    left:0;\\n    right:0;\\n    -webkit-transform:translateY(-50%);\\n    transform:translateY(-50%);\\n    text-align:center;\\n    z-index:-1\\n}\\n\\n.calendly-spinner>div {\\n    display:inline-block;\\n    width:18px;\\n    height:18px;\\n    background-color:#e1e1e1;\\n    border-radius:50%;\\n    vertical-align:middle;\\n    -webkit-animation:calendly-bouncedelay 1.4s infinite ease-in-out;\\n    animation:calendly-bouncedelay 1.4s infinite ease-in-out;\\n    -webkit-animation-fill-mode:both;\\n    animation-fill-mode:both\\n}\\n\\n.calendly-spinner .calendly-bounce1 {\\n    -webkit-animation-delay:-0.32s;\\n    animation-delay:-0.32s\\n}\\n\\n.calendly-spinner .calendly-bounce2 {\\n    -webkit-animation-delay:-0.16s;\\n    animation-delay:-0.16s\\n}\\n\\n@-webkit-keyframes calendly-bouncedelay {\\n    0%,80%,100% {\\n        -webkit-transform:scale(0);\\n        transform:scale(0)\\n    } \\n    \\n    40%{\\n        -webkit-transform:scale(1);\\n        transform:scale(1)\\n    }\\n}\\n\\n@keyframes calendly-bouncedelay{ \\n    0%,80%,100% {\\n        -webkit-transform:scale(0);\\n        transform:scale(0)\\n    }\\n    \\n    40% {\\n        -webkit-transform:scale(1);\\n        transform:scale(1)\\n    }\\n}\";\nstyleInject(css_248z);\n\nfunction sanitizeColorString(str) {\n    if (str.charAt(0) === \"#\") {\n        return str.slice(1);\n    }\n    return str;\n}\nfunction sanitizePageSettingsProps(props) {\n    if (props === null || props === void 0 ? void 0 : props.primaryColor) {\n        props.primaryColor = sanitizeColorString(props.primaryColor);\n    }\n    if (props === null || props === void 0 ? void 0 : props.textColor) {\n        props.textColor = sanitizeColorString(props.textColor);\n    }\n    if (props === null || props === void 0 ? void 0 : props.backgroundColor) {\n        props.backgroundColor = sanitizeColorString(props.backgroundColor);\n    }\n    return props;\n}\n\nvar CalendlyEvent;\n(function (CalendlyEvent) {\n    CalendlyEvent[\"PROFILE_PAGE_VIEWED\"] = \"calendly.profile_page_viewed\";\n    CalendlyEvent[\"EVENT_TYPE_VIEWED\"] = \"calendly.event_type_viewed\";\n    CalendlyEvent[\"DATE_AND_TIME_SELECTED\"] = \"calendly.date_and_time_selected\";\n    CalendlyEvent[\"EVENT_SCHEDULED\"] = \"calendly.event_scheduled\";\n    CalendlyEvent[\"PAGE_HEIGHT\"] = \"calendly.page_height\";\n})(CalendlyEvent || (CalendlyEvent = {}));\nvar formatCalendlyUrl = function (_a) {\n    var url = _a.url, _b = _a.prefill, prefill = _b === void 0 ? {} : _b, _c = _a.pageSettings, pageSettings = _c === void 0 ? {} : _c, _d = _a.utm, utm = _d === void 0 ? {} : _d, embedType = _a.embedType;\n    var sanitizedPageSettings = sanitizePageSettingsProps(pageSettings);\n    var backgroundColor = sanitizedPageSettings.backgroundColor, hideEventTypeDetails = sanitizedPageSettings.hideEventTypeDetails, hideLandingPageDetails = sanitizedPageSettings.hideLandingPageDetails, primaryColor = sanitizedPageSettings.primaryColor, textColor = sanitizedPageSettings.textColor, hideGdprBanner = sanitizedPageSettings.hideGdprBanner;\n    var customAnswers = prefill.customAnswers, date = prefill.date, email = prefill.email, firstName = prefill.firstName, guests = prefill.guests, lastName = prefill.lastName, location = prefill.location, smsReminderNumber = prefill.smsReminderNumber, name = prefill.name;\n    var utmCampaign = utm.utmCampaign, utmContent = utm.utmContent, utmMedium = utm.utmMedium, utmSource = utm.utmSource, utmTerm = utm.utmTerm, salesforce_uuid = utm.salesforce_uuid;\n    var queryStringIndex = url.indexOf(\"?\");\n    var hasQueryString = queryStringIndex > -1;\n    var queryString = url.slice(queryStringIndex + 1);\n    var baseUrl = hasQueryString ? url.slice(0, queryStringIndex) : url;\n    var updatedQueryString = [\n        hasQueryString ? queryString : null,\n        backgroundColor ? \"background_color=\".concat(backgroundColor) : null,\n        hideEventTypeDetails ? \"hide_event_type_details=1\" : null,\n        hideLandingPageDetails ? \"hide_landing_page_details=1\" : null,\n        primaryColor ? \"primary_color=\".concat(primaryColor) : null,\n        textColor ? \"text_color=\".concat(textColor) : null,\n        hideGdprBanner ? \"hide_gdpr_banner=1\" : null,\n        name ? \"name=\".concat(encodeURIComponent(name)) : null,\n        smsReminderNumber ? \"phone_number=\".concat(encodeURIComponent(smsReminderNumber)) : null,\n        location ? \"location=\".concat(encodeURIComponent(location)) : null,\n        firstName ? \"first_name=\".concat(encodeURIComponent(firstName)) : null,\n        lastName ? \"last_name=\".concat(encodeURIComponent(lastName)) : null,\n        guests ? \"guests=\".concat(guests.map(encodeURIComponent).join(\",\")) : null,\n        email ? \"email=\".concat(encodeURIComponent(email)) : null,\n        date && date instanceof Date ? \"date=\".concat(formatDate(date)) : null,\n        utmCampaign ? \"utm_campaign=\".concat(encodeURIComponent(utmCampaign)) : null,\n        utmContent ? \"utm_content=\".concat(encodeURIComponent(utmContent)) : null,\n        utmMedium ? \"utm_medium=\".concat(encodeURIComponent(utmMedium)) : null,\n        utmSource ? \"utm_source=\".concat(encodeURIComponent(utmSource)) : null,\n        utmTerm ? \"utm_term=\".concat(encodeURIComponent(utmTerm)) : null,\n        salesforce_uuid\n            ? \"salesforce_uuid=\".concat(encodeURIComponent(salesforce_uuid))\n            : null,\n        embedType ? \"embed_type=\".concat(embedType) : null,\n        /*\n         * https://github.com/tcampb/react-calendly/pull/31\n         * embed_domain must be defined to receive messages from the Calendly iframe.\n         */\n        \"embed_domain=1\",\n    ]\n        .concat(customAnswers ? formatCustomAnswers(customAnswers) : [])\n        .filter(function (item) { return item !== null; })\n        .join(\"&\");\n    return \"\".concat(baseUrl, \"?\").concat(updatedQueryString);\n};\nvar formatDate = function (d) {\n    var month = d.getMonth() + 1;\n    var day = d.getDate();\n    var year = d.getFullYear();\n    return [\n        year,\n        month < 10 ? \"0\".concat(month) : month,\n        day < 10 ? \"0\".concat(day) : day,\n    ].join(\"-\");\n};\nvar CUSTOM_ANSWER_PATTERN = /^a\\d{1,2}$/;\nvar formatCustomAnswers = function (customAnswers) {\n    var customAnswersFiltered = Object.keys(customAnswers).filter(function (key) {\n        return key.match(CUSTOM_ANSWER_PATTERN);\n    });\n    if (!customAnswersFiltered.length)\n        return [];\n    return customAnswersFiltered.map(function (key) { return \"\".concat(key, \"=\").concat(encodeURIComponent(customAnswers[key])); });\n};\n\nvar LoadingSpinner = /** @class */ (function (_super) {\n    __extends(LoadingSpinner, _super);\n    function LoadingSpinner() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LoadingSpinner.prototype.render = function () {\n        return (React.createElement(\"div\", { className: \"calendly-spinner\" },\n            React.createElement(\"div\", { className: \"calendly-bounce1\" }),\n            React.createElement(\"div\", { className: \"calendly-bounce2\" }),\n            React.createElement(\"div\", { className: \"calendly-bounce3\" })));\n    };\n    return LoadingSpinner;\n}(React.Component));\n\nvar defaultStyles = {\n    minWidth: \"320px\",\n    height: \"630px\",\n};\nvar InlineWidget = /** @class */ (function (_super) {\n    __extends(InlineWidget, _super);\n    function InlineWidget(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            isLoading: true,\n        };\n        _this.onLoad = _this.onLoad.bind(_this);\n        return _this;\n    }\n    InlineWidget.prototype.onLoad = function () {\n        this.setState({\n            isLoading: false,\n        });\n    };\n    InlineWidget.prototype.render = function () {\n        var src = formatCalendlyUrl({\n            url: this.props.url,\n            pageSettings: this.props.pageSettings,\n            prefill: this.props.prefill,\n            utm: this.props.utm,\n            embedType: \"Inline\",\n        });\n        var LoadingSpinner$1 = this.props.LoadingSpinner || LoadingSpinner;\n        return (React.createElement(\"div\", { className: \"calendly-inline-widget\", style: this.props.styles || defaultStyles },\n            this.state.isLoading && React.createElement(LoadingSpinner$1, null),\n            React.createElement(\"iframe\", { width: \"100%\", height: \"100%\", frameBorder: \"0\", title: this.props.iframeTitle || \"Calendly Scheduling Page\", onLoad: this.onLoad, src: src })));\n    };\n    return InlineWidget;\n}(React.Component));\n\nvar ModalContent = /** @class */ (function (_super) {\n    __extends(ModalContent, _super);\n    function ModalContent(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            isLoading: true,\n        };\n        _this.onLoad = _this.onLoad.bind(_this);\n        return _this;\n    }\n    ModalContent.prototype.onLoad = function () {\n        this.setState({\n            isLoading: false,\n        });\n    };\n    ModalContent.prototype.render = function () {\n        var src = formatCalendlyUrl({\n            url: this.props.url,\n            pageSettings: this.props.pageSettings,\n            prefill: this.props.prefill,\n            utm: this.props.utm,\n            embedType: \"Inline\",\n        });\n        var LoadingSpinner$1 = this.props.LoadingSpinner || LoadingSpinner;\n        return (React.createElement(React.Fragment, null,\n            this.state.isLoading && React.createElement(LoadingSpinner$1, null),\n            React.createElement(\"iframe\", { width: \"100%\", height: \"100%\", frameBorder: \"0\", title: this.props.iframeTitle || \"Calendly Scheduling Page\", onLoad: this.onLoad, src: src })));\n    };\n    return ModalContent;\n}(React.Component));\n\nvar Modal = (function (props) {\n    if (!props.open)\n        return null;\n    if (!props.rootElement) {\n        throw new Error('[react-calendly]: PopupModal rootElement property cannot be undefined');\n    }\n    return ReactDom.createPortal(React.createElement(\"div\", { className: \"calendly-overlay\" },\n        React.createElement(\"div\", { onClick: props.onModalClose, className: \"calendly-close-overlay\" }),\n        React.createElement(\"div\", { className: \"calendly-popup\" },\n            React.createElement(\"div\", { className: \"calendly-popup-content\" },\n                React.createElement(ModalContent, __assign({}, props)))),\n        React.createElement(\"button\", { className: \"calendly-popup-close\", onClick: props.onModalClose, \"aria-label\": \"Close modal\", style: {\n                display: \"block\",\n                border: \"none\",\n                padding: 0,\n            } })), props.rootElement);\n});\n\nvar PopupButton = /** @class */ (function (_super) {\n    __extends(PopupButton, _super);\n    function PopupButton(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            isOpen: false,\n        };\n        _this.onClick = _this.onClick.bind(_this);\n        _this.onClose = _this.onClose.bind(_this);\n        return _this;\n    }\n    PopupButton.prototype.onClick = function (e) {\n        e.preventDefault();\n        this.setState({\n            isOpen: true,\n        });\n    };\n    PopupButton.prototype.onClose = function (e) {\n        e.stopPropagation();\n        this.setState({\n            isOpen: false,\n        });\n    };\n    PopupButton.prototype.render = function () {\n        return (React.createElement(React.Fragment, null,\n            React.createElement(\"button\", { onClick: this.onClick, style: this.props.styles || {}, className: this.props.className || \"\" }, this.props.text),\n            React.createElement(Modal, __assign({}, this.props, { open: this.state.isOpen, onModalClose: this.onClose, rootElement: this.props.rootElement }))));\n    };\n    return PopupButton;\n}(React.Component));\n\nvar PopupWidget = /** @class */ (function (_super) {\n    __extends(PopupWidget, _super);\n    function PopupWidget(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            isOpen: false,\n        };\n        _this.onClick = _this.onClick.bind(_this);\n        _this.onClose = _this.onClose.bind(_this);\n        return _this;\n    }\n    PopupWidget.prototype.onClick = function () {\n        this.setState({\n            isOpen: true,\n        });\n    };\n    PopupWidget.prototype.onClose = function (e) {\n        e.stopPropagation();\n        this.setState({\n            isOpen: false,\n        });\n    };\n    PopupWidget.prototype.render = function () {\n        return (React.createElement(\"div\", { className: \"calendly-badge-widget\", onClick: this.onClick },\n            React.createElement(\"div\", { className: \"calendly-badge-content\", style: {\n                    background: this.props.color || \"#00a2ff\",\n                    color: this.props.textColor || \"#ffffff\",\n                } },\n                this.props.text || \"Schedule time with me\",\n                this.props.branding && React.createElement(\"span\", null, \"powered by Calendly\")),\n            React.createElement(Modal, __assign({}, this.props, { open: this.state.isOpen, onModalClose: this.onClose, rootElement: this.props.rootElement }))));\n    };\n    return PopupWidget;\n}(React.Component));\n\nvar EVENT_NAME = \"message\";\nfunction useCalendlyEventListener(eventHandlers) {\n    var _a = eventHandlers || {}, onDateAndTimeSelected = _a.onDateAndTimeSelected, onEventScheduled = _a.onEventScheduled, onEventTypeViewed = _a.onEventTypeViewed, onProfilePageViewed = _a.onProfilePageViewed, onPageHeightResize = _a.onPageHeightResize;\n    React.useEffect(function () {\n        var onMessage = function (e) {\n            var eventName = e.data.event;\n            if (eventName === CalendlyEvent.DATE_AND_TIME_SELECTED) {\n                onDateAndTimeSelected && onDateAndTimeSelected(e);\n            }\n            else if (eventName === CalendlyEvent.EVENT_SCHEDULED) {\n                onEventScheduled && onEventScheduled(e);\n            }\n            else if (eventName === CalendlyEvent.EVENT_TYPE_VIEWED) {\n                onEventTypeViewed && onEventTypeViewed(e);\n            }\n            else if (eventName === CalendlyEvent.PROFILE_PAGE_VIEWED) {\n                onProfilePageViewed && onProfilePageViewed(e);\n            }\n            else if (eventName === CalendlyEvent.PAGE_HEIGHT) {\n                onPageHeightResize && onPageHeightResize(e);\n            }\n        };\n        window.addEventListener(EVENT_NAME, onMessage);\n        return function cleanup() {\n            window.removeEventListener(EVENT_NAME, onMessage);\n        };\n    }, [eventHandlers]);\n}\n\nexport { InlineWidget, PopupButton, Modal as PopupModal, PopupWidget, useCalendlyEventListener };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}