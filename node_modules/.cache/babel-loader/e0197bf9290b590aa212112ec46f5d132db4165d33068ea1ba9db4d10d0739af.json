{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./PublicForum.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PublicForum(_ref){let{user}=_ref;const[messages,setMessages]=useState([]);const[newMessage,setNewMessage]=useState('');useEffect(()=>{const cleanup=setInterval(()=>{const twoDaysAgo=new Date(Date.now()-48*60*60*1000);setMessages(prevMessages=>prevMessages.filter(msg=>new Date(msg.timestamp)>twoDaysAgo));},1000*60*60);return()=>clearInterval(cleanup);},[]);const handleSubmit=e=>{e.preventDefault();if(newMessage.trim()){const message={id:Date.now(),text:newMessage,user:user?\"\".concat(user.firstName,\" \").concat(user.lastName):'Anonymous',timestamp:new Date().toISOString(),avatar:(user===null||user===void 0?void 0:user.profilePicture)||'default-avatar.png'};setMessages(prev=>[...prev,message]);setNewMessage('');}};return/*#__PURE__*/_jsx(\"section\",{id:\"forum\",className:\"discord-forum\",children:/*#__PURE__*/_jsx(\"div\",{className:\"forum-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"messages-area\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"messages-container\",children:messages.map(message=>/*#__PURE__*/_jsxs(\"div\",{className:\"discord-message\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-avatar\",children:/*#__PURE__*/_jsx(\"img\",{src:message.avatar,alt:message.user})}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"message-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"username\",children:message.user}),/*#__PURE__*/_jsx(\"span\",{className:\"timestamp\",children:new Date(message.timestamp).toLocaleString()})]}),/*#__PURE__*/_jsx(\"p\",{className:\"message-text\",children:message.text})]})]},message.id))}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"message-input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newMessage,onChange:e=>setNewMessage(e.target.value),placeholder:\"Send a message...\",className:\"message-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"send-button\",children:\"Send\"})]})]})})});}export default PublicForum;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","PublicForum","_ref","user","messages","setMessages","newMessage","setNewMessage","cleanup","setInterval","twoDaysAgo","Date","now","prevMessages","filter","msg","timestamp","clearInterval","handleSubmit","e","preventDefault","trim","message","id","text","concat","firstName","lastName","toISOString","avatar","profilePicture","prev","className","children","map","src","alt","toLocaleString","onSubmit","type","value","onChange","target","placeholder"],"sources":["/Users/williamscott/.cursor-tutor/src/components/PublicForum.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './PublicForum.css';\n\nfunction PublicForum({ user }) {\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n\n  useEffect(() => {\n    const cleanup = setInterval(() => {\n      const twoDaysAgo = new Date(Date.now() - 48 * 60 * 60 * 1000);\n      setMessages(prevMessages => \n        prevMessages.filter(msg => new Date(msg.timestamp) > twoDaysAgo)\n      );\n    }, 1000 * 60 * 60);\n\n    return () => clearInterval(cleanup);\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (newMessage.trim()) {\n      const message = {\n        id: Date.now(),\n        text: newMessage,\n        user: user ? `${user.firstName} ${user.lastName}` : 'Anonymous',\n        timestamp: new Date().toISOString(),\n        avatar: user?.profilePicture || 'default-avatar.png'\n      };\n      setMessages(prev => [...prev, message]);\n      setNewMessage('');\n    }\n  };\n\n  return (\n    <section id=\"forum\" className=\"discord-forum\">\n      <div className=\"forum-container\">\n        <div className=\"messages-area\">\n          <div className=\"messages-container\">\n            {messages.map(message => (\n              <div key={message.id} className=\"discord-message\">\n                <div className=\"message-avatar\">\n                  <img src={message.avatar} alt={message.user} />\n                </div>\n                <div className=\"message-content\">\n                  <div className=\"message-header\">\n                    <span className=\"username\">{message.user}</span>\n                    <span className=\"timestamp\">\n                      {new Date(message.timestamp).toLocaleString()}\n                    </span>\n                  </div>\n                  <p className=\"message-text\">{message.text}</p>\n                </div>\n              </div>\n            ))}\n          </div>\n          <form onSubmit={handleSubmit} className=\"message-input-container\">\n            <input\n              type=\"text\"\n              value={newMessage}\n              onChange={(e) => setNewMessage(e.target.value)}\n              placeholder=\"Send a message...\"\n              className=\"message-input\"\n            />\n            <button type=\"submit\" className=\"send-button\">\n              Send\n            </button>\n          </form>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default PublicForum; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}